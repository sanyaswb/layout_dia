let e="./",t="/src/images/";class s{constructor(){this.basePath=e,this.forceWebpLowRes=!0,this.tasks=[],console.log(`\u{1F527} SmartLoader v8.0. Mode: Parcel`),console.log(`\u{1F4C2} Base Path: "${this.basePath}"`)}scanDOM(){let e=document.querySelectorAll("[data-image]");return 0!==e.length&&(this.tasks=Array.from(e).map(e=>{let t=e.dataset.image,s=`${this.basePath}${t}`,a=null;if(!t.toLowerCase().endsWith(".svg")){let e,s=t.lastIndexOf(".");if(e=-1===s?t:t.substring(0,s),this.forceWebpLowRes)a=`${this.basePath}${e}--low.webp`;else{let i=-1!==s?t.substring(s):"";a=`${this.basePath}${e}--low${i}`}}return{element:e,highPath:s,lowPath:a,type:"IMG"===e.tagName?"img":"bg",originalName:t,isSvg:t.toLowerCase().endsWith(".svg")}}),!0)}async applyLowRes(){let e=this.tasks.map(async e=>{e.isSvg||!e.lowPath||await this._checkImage(e.lowPath)&&(this._applyImage(e,e.lowPath),e.element.classList.add("is-blur"))});await Promise.all(e)}async loadHighRes(){let e=this.tasks.map(e=>this._preloadSingleImage(e));await Promise.all(e),console.log("ðŸŽ‰ SmartLoader: Ð’ÑÑ– Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð¾.")}_preloadSingleImage(e){return new Promise(t=>{let s=new Image;s.src=e.highPath,s.decode().then(()=>{this._applyImage(e,e.highPath),e.element.classList.remove("is-blur"),e.element.classList.add("smart-loaded"),e.element.removeAttribute("data-image"),t()}).catch(()=>{console.warn(`\u{274C} SmartLoader: \u{41D}\u{435} \u{432}\u{434}\u{430}\u{43B}\u{43E}\u{441}\u{44F} \u{437}\u{430}\u{432}\u{430}\u{43D}\u{442}\u{430}\u{436}\u{438}\u{442}\u{438} \u{43E}\u{440}\u{438}\u{433}\u{456}\u{43D}\u{430}\u{43B}: ${e.highPath}`),t()})})}_applyImage(e,t){"img"===e.type?e.element.src=t:e.element.style.backgroundImage=`url('${t}')`}_checkImage(e){return new Promise(t=>{let s=new Image;s.src=e,s.onload=()=>t(!0),s.onerror=()=>t(!1)})}async run(){this.scanDOM()&&(await this.applyLowRes(),await this.loadHighRes())}}document.addEventListener("DOMContentLoaded",()=>{new s().run()});let a=document.querySelector(".division"),i=a.querySelector(".division__background"),l=0,o=0,n=0,r=0;a.addEventListener("mousemove",e=>{let t=a.getBoundingClientRect(),s=(e.clientX-t.left)/t.width-.5,i=(e.clientY-t.top)/t.height-.5;l=-(30*s),o=-(30*i)}),a.addEventListener("mouseleave",()=>{l=0,o=0}),!function e(){n+=(l-n)*.08,r+=(o-r)*.08,i.style.setProperty("--parallax-x",`${n}px`),i.style.setProperty("--parallax-y",`${r}px`),requestAnimationFrame(e)}();let c=document.querySelector(".page"),d=document.querySelector(".top-bg"),u=document.querySelector(".menu"),m=document.querySelectorAll(".nav-menu__link"),h=document.querySelector(".menu-btn-link"),g=document.querySelector(".menu__button--close");h.addEventListener("click",()=>{c.classList.add("page-hidden--active"),u.classList.add("menu--active"),d.classList.add("menu-bg--active")}),g.addEventListener("click",()=>{c.classList.remove("page-hidden--active"),u.classList.remove("menu--active"),d.classList.remove("menu-bg--active")}),m.forEach(e=>{e.addEventListener("click",()=>{c.classList.remove("page-hidden--active"),u.classList.remove("menu--active"),d.classList.remove("menu-bg--active")})});let v=document.getElementById("header"),p=document.querySelector(".header__top"),L=document.querySelector(".scroll-top"),w=window.scrollY,y=!1;window.addEventListener("scroll",()=>{let e=window.scrollY,t=v.offsetHeight-p.offsetHeight;if(e>0?p.classList.add("top-height"):p.classList.remove("top-height"),e<=t){p.classList.remove("hidden"),L.classList.remove("visible"),y=!1;return}e>w&&!y&&(p.classList.add("hidden"),L.classList.add("visible"),y=!0),e<w&&y&&(p.classList.remove("hidden"),p.classList.add("top-height"),y=!1),w=e}),L.addEventListener("click",()=>{window.scrollTo({top:0})});let b=document.querySelectorAll(".description__title, .description__text, .division__title, .division__text"),_=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))})},{root:null,threshold:.2,rootMargin:"0px 0px -100px 0px"});b.forEach(e=>_.observe(e)),document.addEventListener("DOMContentLoaded",()=>{let e=new Swiper(".hero__slider",{loop:!0,speed:800,grabCursor:!0,allowTouchMove:!0,navigation:{nextEl:".js-hero-next",prevEl:".js-hero-prev"},autoplay:{delay:5e3}});e.on("click",()=>{e.slideNext()})}),new Image().src="./images/slider/slide-img-1--theme.webp",document.getElementById("switcher").addEventListener("click",()=>{let e=document.documentElement;"light"===e.dataset.theme?e.removeAttribute("data-theme"):e.dataset.theme="light"});
//# sourceMappingURL=layout_dia.f82183f7.js.map
